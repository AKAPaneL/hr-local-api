(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2af0ca56"],{2506:function(t,e,a){"use strict";a.d(e,"h",(function(){return s})),a.d(e,"l",(function(){return n})),a.d(e,"m",(function(){return c})),a.d(e,"p",(function(){return i})),a.d(e,"i",(function(){return o})),a.d(e,"j",(function(){return u})),a.d(e,"g",(function(){return l})),a.d(e,"k",(function(){return d})),a.d(e,"r",(function(){return p})),a.d(e,"q",(function(){return f})),a.d(e,"c",(function(){return m})),a.d(e,"f",(function(){return h})),a.d(e,"d",(function(){return v})),a.d(e,"e",(function(){return b})),a.d(e,"a",(function(){return y})),a.d(e,"b",(function(){return C})),a.d(e,"s",(function(){return _}));a("99af");var r=a("b775");function s(t){return Object(r["a"])({url:"/user/process/instance/".concat(t.page,"/").concat(t.pageSize),method:"put",data:t})}function n(t){return Object(r["a"])({url:"/user/process/instance/getById/".concat(t)})}function c(t){return Object(r["a"])({url:"/approvals/flows/".concat(t)})}function i(t){return Object(r["a"])({url:"/approvals/setting",method:"put",data:t})}function o(t){return Object(r["a"])({url:"/user/process/instance/".concat(t)})}function u(t){return Object(r["a"])({url:"/user/process/instance/tasks/".concat(t)})}function l(t){return Object(r["a"])({url:"//user/process/buss/showBussImgById/".concat(t)})}function d(t){return Object(r["a"])({url:"/user/process/definition",params:t})}function p(t){return Object(r["a"])({url:"/user/process/suspend/".concat(t.processKey),params:t})}function f(t){return Object(r["a"])({url:"/user/process/startProcess",data:t,method:"post"})}function m(t){return Object(r["a"])({url:"/user/process_leave/startProcess",data:t,method:"post"})}function h(t){return Object(r["a"])({url:"/user/approvals/".concat(t.id,"/reject"),method:"put",data:t})}function v(t){return Object(r["a"])({url:"/user/approvals/".concat(t),method:"delete"})}function b(t){return Object(r["a"])({url:"/user/process/instance/commit",method:"put",data:t})}function y(t){return Object(r["a"])({url:"/user/process_dimission/startProcess",method:"post",data:t})}function C(t){return Object(r["a"])({url:"/user/process_overtime/startProcess",method:"post",data:t})}function _(t){return Object(r["a"])({url:"/sys/user/".concat(t.id),method:"put",data:t})}},"43e5":function(t,e,a){"use strict";a("622b")},"616f":function(t,e,a){t.exports=a.p+"static/img/img.0615818f.jpeg"},"622b":function(t,e,a){},"63d2":function(t,e,a){},"6a77":function(t,e,a){"use strict";a("dcf1")},"8ca2":function(t,e,a){"use strict";a("63d2")},9406:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"dashboard-container"},[r("el-card",{staticClass:"header-card"},[r("div",[r("div",{staticClass:"fl headL"},[r("div",{staticClass:"headImg"},[r("img",{directives:[{name:"imageerror",rawName:"v-imageerror",value:a("ed7b"),expression:"require('@/assets/common/head.jpg')"}],attrs:{src:t.userInfo.staffPhoto}})]),r("div",{staticClass:"headInfoTip"},[r("p",{staticClass:"firstChild"},[t._v("早安，"+t._s(t.userInfo.username)+"，祝你开心每一天！")]),r("p",{staticClass:"lastChild"},[t._v(t._s(t.userInfo.username)+" | "+t._s(t.userInfo.companyName)+"-"+t._s(t.userInfo.departmentName))])])]),r("div",{staticClass:"fr"})])]),r("el-row",{attrs:{type:"flex",justify:"space-between"}},[r("el-col",{staticStyle:{"padding-right":"26px"},attrs:{span:13}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("工作日历")])]),r("work-calendar")],1),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"advContent"},[r("div",{staticClass:"title"},[t._v(" 公告")]),r("div",{staticClass:"contentItem"},[r("ul",{staticClass:"noticeList"},[r("li",[r("div",{staticClass:"item"},[r("img",{attrs:{src:a("616f"),alt:""}}),r("div",[r("p",[r("span",{staticClass:"col"},[t._v("朱继柳")]),t._v(" 发布了 第1期“传智大讲堂”互动讨论获奖名单公布")]),r("p",[t._v("2018-07-21 15:21:38")])])])]),r("li",[r("div",{staticClass:"item"},[r("img",{attrs:{src:a("616f"),alt:""}}),r("div",[r("p",[r("span",{staticClass:"col"},[t._v("朱继柳")]),t._v(" 发布了 第2期“传智大讲堂”互动讨论获奖名单公布")]),r("p",[t._v("2018-07-21 15:21:38")])])])]),r("li",[r("div",{staticClass:"item"},[r("img",{attrs:{src:a("616f"),alt:""}}),r("div",[r("p",[r("span",{staticClass:"col"},[t._v("朱继柳")]),t._v(" 发布了 第3期“传智大讲堂”互动讨论获奖名单公布")]),r("p",[t._v("2018-07-21 15:21:38")])])])])])])])])],1),r("el-col",{attrs:{span:11}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"header headTit"},[r("span",[t._v("流程申请")])]),r("div",{staticClass:"sideNav"},[r("el-button",{staticClass:"sideBtn",on:{click:function(e){t.showDialog=!0}}},[t._v("加班离职")]),r("el-button",{staticClass:"sideBtn"},[t._v("请假调休")]),r("el-button",{staticClass:"sideBtn",on:{click:function(e){return t.$router.push("/users/approvals")}}},[t._v("审批列表")]),r("el-button",{staticClass:"sideBtn",on:{click:function(e){return t.$router.push("/users/info")}}},[t._v("我的信息")])],1)]),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("接口访问")])]),r("api")],1),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("绩效指数")])]),r("radar")],1),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"header headTit"},[r("span",[t._v("帮助链接")])]),r("div",{staticClass:"sideLink"},[r("el-row",[r("el-col",{attrs:{span:8}},[r("a",{attrs:{href:"#"}},[r("span",{staticClass:"icon iconGuide"}),r("p",[t._v("入门指南")])])]),r("el-col",{attrs:{span:8}},[r("a",{attrs:{href:"#"}},[r("span",{staticClass:"icon iconHelp"}),r("p",[t._v("在线帮助手册")])])]),r("el-col",{attrs:{span:8}},[r("a",{attrs:{href:"#"}},[r("span",{staticClass:"icon iconTechnology"}),r("p",[t._v("联系技术支持")])])])],1)],1)])],1)],1),r("el-dialog",{attrs:{visible:t.showDialog,title:"离职申请"},on:{close:t.btnCancel}},[r("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,"status-icon":"","label-width":"110px",rules:t.rules}},[r("el-form-item",{attrs:{label:"离职时间",prop:"end_time"}},[r("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:t.ruleForm.exceptTime,callback:function(e){t.$set(t.ruleForm,"exceptTime",e)},expression:"ruleForm.exceptTime"}})],1),r("el-form-item",{attrs:{label:"离职原因",prop:"reason"}},[r("el-input",{staticStyle:{width:"70%"},attrs:{type:"textarea",autosize:{minRows:3,maxRows:8},placeholder:"请输入内容"},model:{value:t.ruleForm.reason,callback:function(e){t.$set(t.ruleForm,"reason",e)},expression:"ruleForm.reason"}})],1)],1),r("el-row",{attrs:{slot:"footer",type:"flex",justify:"center"},slot:"footer"},[r("el-col",{attrs:{span:6}},[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.btnOK}},[t._v("确定")]),r("el-button",{attrs:{size:"small"},on:{click:t.btnCancel}},[t._v("取消")])],1)],1)],1)],1)},s=[],n=(a("96cf"),a("1da1")),c=a("5530"),i=a("2f62"),o=a("2506"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{type:"flex",justify:"end"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{size:"small"},on:{change:t.dataChage},model:{value:t.currentYear,callback:function(e){t.currentYear=e},expression:"currentYear"}},t._l(t.yearList,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1),a("el-select",{staticStyle:{width:"120px","margin-left":"10px"},attrs:{size:"small"},on:{change:t.dataChage},model:{value:t.currentMonth,callback:function(e){t.currentMonth=e},expression:"currentMonth"}},t._l(12,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-calendar",{scopedSlots:t._u([{key:"dateCell",fn:function(e){var r=e.date,s=e.data;return[a("div",{staticClass:"date-content"},[a("span",{staticClass:"text"},[t._v(t._s(t._f("getDay")(s.day)))]),t.isWeek(r)?a("span",{staticClass:"rest"},[t._v("休")]):t._e()])]}}]),model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1)},l=[],d=(a("99af"),a("a630"),a("ac1f"),a("3ca3"),a("1276"),a("2ca0"),{filters:{getDay:function(t){var e=t.split("-")[2];return e.startsWith("0")?e.substr(1):e}},props:{startDate:{type:Date,default:function(){return new Date}}},data:function(){return{currentMonth:null,currentYear:null,currentDate:null,yearList:[]}},created:function(){var t=this;this.currentMonth=this.startDate.getMonth()+1,this.currentYear=this.startDate.getFullYear(),this.yearList=Array.from(Array(11),(function(e,a){return a+t.currentYear-5}))},methods:{dataChage:function(){this.currentDate=new Date("".concat(this.currentYear,"-").concat(this.currentMonth,"-1"))},isWeek:function(t){return 6===t.getDay()||0===t.getDay()}}}),p=d,f=(a("43e5"),a("2877")),m=Object(f["a"])(p,u,l,!1,null,"36679d4c",null),h=m.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"myDiv",staticClass:"radar-echart"})},b=[],y=a("3eba");a("8deb"),a("007d"),a("627c");var C={mounted:function(){var t=y.init(this.$refs.myDiv);t.setOption({title:{text:"基础雷达图"},tooltip:{},legend:{data:["预算分配（Allocated Budget）","实际开销（Actual Spending）"]},radar:{name:{textStyle:{color:"#fff",backgroundColor:"#999",borderRadius:3,padding:[3,5]}},indicator:[{name:"考勤",max:100},{name:"技术",max:100},{name:"管理",max:100},{name:"分享",max:100},{name:"bug",max:100},{name:"助人",max:100}]},series:[{name:"张三VS李四",type:"radar",data:[{value:[20,30,99,90,1,80],name:"张三指标"},{value:[99,99,0,0,100,2],name:"李四指标"}]}]})}},_=C,g=(a("8ca2"),Object(f["a"])(_,v,b,!1,null,null,null)),x=g.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("总访问："+t._s(t.allCount))]),a("div",{ref:"myDiv",staticClass:"radar-echart"})])},O=[],w=(a("4160"),a("a15b"),a("fb6a"),a("b64b"),a("07ac"),a("159b"),a("b775")),k=a("63e3"),D={data:function(){return{allCount:0}},mounted:function(){var t=this;this.myEchart=k.init(this.$refs.myDiv),this.myEchart.setOption({title:{text:"ihrm实时访问统计-1小时"},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{data:[],type:"line",smooth:!0}]}),setInterval((function(){return t.getApiCount()}),5e3)},methods:{getApiCount:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(w["a"])("/api_count");case 2:a=e.sent,r=a.allCount,s=a.result,n={},s.forEach((function(t){var e=t._id.split(" ")[1].split(":").slice(0,2).join(":");n[e]?n[e]++:n[e]=1})),t.allCount=r,t.myEchart.setOption({title:{text:"ihrm实时访问统计-1小时"},xAxis:{type:"category",data:Object.keys(n)},yAxis:{type:"value"},series:[{data:Object.values(n),type:"line",smooth:!0}]});case 9:case"end":return e.stop()}}),e)})))()}}},I=D,F=(a("6a77"),Object(f["a"])(I,j,O,!1,null,null,null)),$=F.exports,A=Object(i["a"])("user"),S=A.mapState,T={name:"Dashboard",components:{WorkCalendar:h,Radar:x,Api:$},data:function(){return{showDialog:!1,ruleForm:{exceptTime:"",reason:"",processKey:"process_dimission",processName:"离职"},rules:{exceptTime:[{required:!0,message:"离职时间不能为空"}],reason:[{required:!0,message:"离职原因不能为空"}]}}},computed:Object(c["a"])(Object(c["a"])({},Object(i["d"])(["name"])),S(["userInfo"])),methods:{btnOK:function(){var t=this;this.$refs.ruleForm.validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,Object(o["q"])(Object(c["a"])(Object(c["a"])({},t.ruleForm),{},{userId:t.userInfo.userId}));case 3:t.$message.success("提交流程成功"),t.showDialog=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},btnCancel:function(){this.showDialog=!1,this.$refs.ruleForm.resetFields(),this.ruleForm={exceptTime:"",reason:"",processKey:"process_dimission",processName:"离职"}}}},M=T,B=(a("b3dd"),Object(f["a"])(M,r,s,!1,null,"5aed5db4",null));e["default"]=B.exports},b3dd:function(t,e,a){"use strict";a("ce00")},ce00:function(t,e,a){},dcf1:function(t,e,a){}}]);